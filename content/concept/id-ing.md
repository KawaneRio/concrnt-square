+++
title="id-ing"
weight=3
+++

### 署名と証明書チェーン
Concrntはユーザーが自身の秘密鍵を用いて自己の同一性を証明します。
Concrntでは秘密鍵にsecp256k1を採用し、アドレスフォーマットはbech32エンコードが利用されています。

署名の検証プロセスは'ecrecover'アルゴリズムを使用して行われます。簡単に説明すると、ECDSA署名は、元のメッセージと署名の値、1bitのリカバリーパラメーターをもとに署名者の公開鍵を復元することができます。
こうして復元した公開鍵からアドレスを計算することで、署名の正しさを検証することができます。このアルゴリズムの利点は、公開鍵を別途共有する必要がないところです。

concurrent.worldのインスペクターパネル(図9)を使うと簡単に送信者の署名の検証結果を表示することができます。

<div align="center">
    <img src="/images/inspector.png" width="600px">
    <p>図9 インスペクターパネル</p>
</div>

また、Concrntにはサブキーという概念を導入しています。

というのも、使い捨てしても大して問題のない仮想通過のウォレットならともかく、SNSアカウントを1つの秘密鍵で守り切るのはほぼ不可能です。頻繁にいろんな端末で開きたいものですからね。

秘密鍵の扱いを容易にするためには、いつでも新しい鍵を生成でき、そしてその鍵をいつでも**無効化**できる必要があります。

Concrntでは、自身の秘密鍵を使って別の秘密鍵に対して署名を施すことで、証明書を作ることができます。この証明書をプロフィールのように公開することで、アドレスと直接紐づいた秘密鍵をオフラインに厳重に保管した上で、柔軟にアカウントを運用することができます。
証明書はいつでも無効化できますが、これは一般にwebで使われている証明書と同様に、証明書失効リスト(CRL)を公開することで行われます。なので、サブキーによる署名を検証する際は、証明書の最新の状態についてドメインに問い合わせる必要があります。完全な魚拓を取る際は、投稿の署名とその署名に使われたサブキーの証明書チェーンに加えて、そのユーザーのドメイン加入証明書と、現時点でその証明書チェーンの失効証明書を受け取っていないことのサーバーサイド署名が必要になるでしょう。
